# ğŸ“š API æ¥å£æ–‡æª”

å®Œæ•´çš„å­¸ç”Ÿç®¡ç†ç³»çµ± API æ¥å£èªªæ˜æ–‡æª”ã€‚

**åŸºç¤ URL**: `http://localhost:3000/api`

---

## ğŸ” èªè­‰ç›¸é—œ `/api/auth`

### 1. å“¡å·¥ç™»å…¥
- **è·¯å¾‘**: `POST /api/auth/staff/login`
- **æè¿°**: å“¡å·¥ä½¿ç”¨éƒµç®±å’Œå¯†ç¢¼ç™»å…¥ç³»çµ±
- **æ¬Šé™**: ç„¡éœ€èªè­‰
- **è«‹æ±‚é«”**:
```json
{
  "email": "huang@staff.com",
  "password": "staff01!"
}
```
- **æˆåŠŸéŸ¿æ‡‰** (200):
```json
{
  "success": true,
  "data": {
    "id": 1,
    "name": "é»ƒè€å¸«",
    "role": "è®²å¸ˆ",
    "type": "staff"
  }
}
```
- **Cookie**: è¨­ç½® `userId` å’Œ `userType` ç°½å Cookie

---

### 2. å­¸ç”Ÿç™»å…¥
- **è·¯å¾‘**: `POST /api/auth/student/login`
- **æè¿°**: å­¸ç”Ÿä½¿ç”¨éƒµç®±å’Œå¯†ç¢¼ç™»å…¥ç³»çµ±
- **æ¬Šé™**: ç„¡éœ€èªè­‰
- **è«‹æ±‚é«”**:
```json
{
  "email": "lixm@student.com",
  "password": "sPass01!"
}
```
- **æˆåŠŸéŸ¿æ‡‰** (200):
```json
{
  "success": true,
  "data": {
    "id": 1,
    "name": "æå°æ˜",
    "type": "student"
  }
}
```
- **Cookie**: è¨­ç½® `userId` å’Œ `userType` ç°½å Cookie

---

### 3. Master Key ç™»å…¥
- **è·¯å¾‘**: `POST /api/auth/master/login`
- **æè¿°**: ä½¿ç”¨è¶…ç´šç®¡ç†å“¡å¯†é‘°ç™»å…¥ï¼Œç¹éæ‰€æœ‰æ¬Šé™æª¢æŸ¥
- **æ¬Šé™**: ç„¡éœ€èªè­‰
- **è«‹æ±‚é«”**:
```json
{
  "masterKey": "polyusecretkeyforTest"
}
```
- **æˆåŠŸéŸ¿æ‡‰** (200):
```json
{
  "success": true,
  "data": {
    "name": "è¶…ç´šç®¡ç†å“¡",
    "type": "master"
  }
}
```
- **âš ï¸ å®‰å…¨æç¤º**: åƒ…ç”¨æ–¼ç³»çµ±ç®¡ç†å’Œæ¸¬è©¦ï¼Œç”Ÿç”¢ç’°å¢ƒéœ€ä¿®æ”¹å¯†é‘°

---

### 4. ç™»å‡º
- **è·¯å¾‘**: `POST /api/auth/logout`
- **æè¿°**: æ¸…é™¤ç™»å…¥ Cookieï¼Œç™»å‡ºç³»çµ±
- **æ¬Šé™**: ç„¡éœ€èªè­‰
- **æˆåŠŸéŸ¿æ‡‰** (200):
```json
{
  "success": true,
  "message": "ç™»å‡ºæˆåŠŸ"
}
```

---

### 5. ç²å–ç•¶å‰ç”¨æˆ¶ä¿¡æ¯
- **è·¯å¾‘**: `GET /api/auth/me`
- **æè¿°**: ç²å–ç•¶å‰ç™»å…¥ç”¨æˆ¶çš„è©³ç´°ä¿¡æ¯
- **æ¬Šé™**: éœ€è¦ç™»å…¥
- **æˆåŠŸéŸ¿æ‡‰** (200):
```json
{
  "success": true,
  "data": {
    "id": 1,
    "name": "æå°æ˜",
    "type": "student"
  }
}
```

---

## ğŸ‘¨â€ğŸ“ å­¸ç”Ÿç®¡ç† `/api/students`

### 1. ç²å–æ‰€æœ‰å­¸ç”Ÿ
- **è·¯å¾‘**: `GET /api/students`
- **æè¿°**: ç²å–æ‰€æœ‰å­¸ç”Ÿåˆ—è¡¨
- **æ¬Šé™**: éœ€è¦å“¡å·¥èº«ä»½
- **æˆåŠŸéŸ¿æ‡‰** (200):
```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "last_name": "æ",
      "first_name": "å°æ˜",
      "gender": "ç”·",
      "email": "lixm@student.com",
      "phone": "13900139001",
      "enrollment_year": 2020,
      "guardian_id": 1,
      "guardian_relation": "çˆ¶è¦ª"
    }
  ]
}
```

---

### 2. ç²å–å–®å€‹å­¸ç”Ÿ
- **è·¯å¾‘**: `GET /api/students/:id`
- **æè¿°**: æ ¹æ“š ID ç²å–å­¸ç”Ÿè©³ç´°ä¿¡æ¯
- **æ¬Šé™**: å“¡å·¥æˆ–å­¸ç”Ÿæœ¬äºº
- **URL åƒæ•¸**: `id` - å­¸ç”Ÿ ID
- **æˆåŠŸéŸ¿æ‡‰** (200):
```json
{
  "success": true,
  "data": {
    "id": 1,
    "last_name": "æ",
    "first_name": "å°æ˜",
    "gender": "ç”·",
    "identification_number": "110101200001011234",
    "address": "åŒ—äº¬å¸‚æœé™½å€1è™Ÿ",
    "email": "lixm@student.com",
    "phone": "13900139001",
    "enrollment_year": 2020,
    "guardian_id": 1,
    "guardian_relation": "çˆ¶è¦ª"
  }
}
```

---

### 3. æ·»åŠ å­¸ç”Ÿ
- **è·¯å¾‘**: `POST /api/students`
- **æè¿°**: æ·»åŠ æ–°å­¸ç”Ÿåˆ°ç³»çµ±
- **æ¬Šé™**: éœ€è¦å“¡å·¥èº«ä»½
- **è«‹æ±‚é«”**:
```json
{
  "password": "sPass01!",
  "last_name": "æ",
  "first_name": "å°æ˜",
  "gender": "ç”·",
  "identification_number": "110101200001011234",
  "address": "åŒ—äº¬å¸‚æœé™½å€1è™Ÿ",
  "email": "lixm@student.com",
  "phone": "13900139001",
  "enrollment_year": 2020,
  "guardian_id": 1,
  "guardian_relation": "çˆ¶è¦ª"
}
```
- **æˆåŠŸéŸ¿æ‡‰** (200):
```json
{
  "success": true,
  "data": { "id": 1 }
}
```

---

### 4. ç·¨è¼¯å­¸ç”Ÿä¿¡æ¯
- **è·¯å¾‘**: `POST /api/students/edit/:id`
- **æè¿°**: æ›´æ–°å­¸ç”Ÿä¿¡æ¯
- **æ¬Šé™**: å“¡å·¥æˆ–å­¸ç”Ÿæœ¬äºº
- **URL åƒæ•¸**: `id` - å­¸ç”Ÿ ID
- **è«‹æ±‚é«”**: èˆ‡æ·»åŠ å­¸ç”Ÿç›¸åŒï¼Œä½†æ‰€æœ‰å­—æ®µå¯é¸
- **æˆåŠŸéŸ¿æ‡‰** (200):
```json
{
  "success": true,
  "message": "å­¸ç”Ÿè³‡æ–™æ›´æ–°æˆåŠŸ"
}
```

---

### 5. ç²å–å­¸ç”Ÿæˆç¸¾
- **è·¯å¾‘**: `GET /api/students/grade/:id`
- **æè¿°**: ç²å–æŒ‡å®šå­¸ç”Ÿçš„æ‰€æœ‰æˆç¸¾è¨˜éŒ„
- **æ¬Šé™**: å“¡å·¥æˆ–å­¸ç”Ÿæœ¬äºº
- **URL åƒæ•¸**: `id` - å­¸ç”Ÿ ID
- **æˆåŠŸéŸ¿æ‡‰** (200):
```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "student_id": 1,
      "course_id": 1,
      "course_name": "é«˜ç­‰æ•¸å­¸",
      "term": "2023ç§‹",
      "grade": "92",
      "comments": "è¡¨ç¾å„ªç§€"
    }
  ]
}
```

---

### 6. ç²å–å­¸ç”Ÿç´€å¾‹è¨˜éŒ„
- **è·¯å¾‘**: `GET /api/students/disciplinary/:id`
- **æè¿°**: ç²å–æŒ‡å®šå­¸ç”Ÿçš„æ‰€æœ‰ç´€å¾‹è¨˜éŒ„
- **æ¬Šé™**: å“¡å·¥æˆ–å­¸ç”Ÿæœ¬äºº
- **URL åƒæ•¸**: `id` - å­¸ç”Ÿ ID
- **æˆåŠŸéŸ¿æ‡‰** (200):
```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "student_id": 1,
      "date": "2023-10-15",
      "staff_id": 1,
      "staff_name": "é»ƒè€å¸«",
      "descriptions": "ä¸Šèª²ç©æ‰‹æ©Ÿ"
    }
  ]
}
```

---

## ğŸ“Š æˆç¸¾ç®¡ç† `/api/grades`

**âš ï¸ æ‰€æœ‰æ¥å£éœ€è¦ ARO (Academic Records Officer) è§’è‰²**

### 1. ç²å–æ‰€æœ‰æˆç¸¾
- **è·¯å¾‘**: `GET /api/grades`
- **æè¿°**: ç²å–ç³»çµ±ä¸­æ‰€æœ‰æˆç¸¾è¨˜éŒ„
- **æ¬Šé™**: ARO è§’è‰²
- **æˆåŠŸéŸ¿æ‡‰** (200):
```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "student_id": 1,
      "student_name": "æå°æ˜",
      "course_id": 1,
      "course_name": "é«˜ç­‰æ•¸å­¸",
      "term": "2023ç§‹",
      "grade": "92",
      "comments": "è¡¨ç¾å„ªç§€"
    }
  ]
}
```

---

### 2. ç²å–å–®å€‹æˆç¸¾
- **è·¯å¾‘**: `GET /api/grades/:id`
- **æè¿°**: æ ¹æ“š ID ç²å–æˆç¸¾è©³æƒ…
- **æ¬Šé™**: ARO è§’è‰²
- **URL åƒæ•¸**: `id` - æˆç¸¾è¨˜éŒ„ ID
- **æˆåŠŸéŸ¿æ‡‰** (200):
```json
{
  "success": true,
  "data": {
    "id": 1,
    "student_id": 1,
    "course_id": 1,
    "term": "2023ç§‹",
    "grade": "92",
    "comments": "è¡¨ç¾å„ªç§€"
  }
}
```

---

### 3. æ·»åŠ æˆç¸¾
- **è·¯å¾‘**: `POST /api/grades/AddGrading`
- **æè¿°**: ç‚ºå­¸ç”Ÿæ·»åŠ æ–°çš„æˆç¸¾è¨˜éŒ„
- **æ¬Šé™**: ARO è§’è‰²
- **è«‹æ±‚é«”**:
```json
{
  "student_id": 1,
  "course_id": 1,
  "term": "2023ç§‹",
  "grade": "92",
  "comments": "è¡¨ç¾å„ªç§€"
}
```
- **æˆåŠŸéŸ¿æ‡‰** (200):
```json
{
  "success": true,
  "data": { "id": 1 }
}
```

---

### 4. ç·¨è¼¯æˆç¸¾
- **è·¯å¾‘**: `POST /api/grades/EditGrading`
- **æè¿°**: æ›´æ–°å·²æœ‰çš„æˆç¸¾è¨˜éŒ„
- **æ¬Šé™**: ARO è§’è‰²
- **è«‹æ±‚é«”**:
```json
{
  "id": 1,
  "student_id": 1,
  "course_id": 1,
  "term": "2023ç§‹",
  "grade": "95",
  "comments": "é€²æ­¥æ˜é¡¯"
}
```
- **æˆåŠŸéŸ¿æ‡‰** (200):
```json
{
  "success": true,
  "message": "æˆç¸¾æ›´æ–°æˆåŠŸ"
}
```

---

### 5. åˆªé™¤æˆç¸¾
- **è·¯å¾‘**: `DELETE /api/grades/DeleteGrading/:id`
- **æè¿°**: åˆªé™¤æŒ‡å®šçš„æˆç¸¾è¨˜éŒ„
- **æ¬Šé™**: ARO è§’è‰²
- **URL åƒæ•¸**: `id` - æˆç¸¾è¨˜éŒ„ ID
- **æˆåŠŸéŸ¿æ‡‰** (200):
```json
{
  "success": true,
  "message": "æˆç¸¾åˆªé™¤æˆåŠŸ"
}
```

---

## ğŸ“‹ ç´€å¾‹è¨˜éŒ„ç®¡ç† `/api/disciplinary`

**âš ï¸ æ‰€æœ‰æ¥å£éœ€è¦ DRO (Disciplinary Records Officer) è§’è‰²**

### 1. ç²å–æ‰€æœ‰ç´€å¾‹è¨˜éŒ„
- **è·¯å¾‘**: `GET /api/disciplinary`
- **æè¿°**: ç²å–ç³»çµ±ä¸­æ‰€æœ‰ç´€å¾‹è¨˜éŒ„
- **æ¬Šé™**: DRO è§’è‰²
- **æˆåŠŸéŸ¿æ‡‰** (200):
```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "student_id": 1,
      "student_name": "æå°æ˜",
      "date": "2023-10-15",
      "staff_id": 1,
      "staff_name": "é»ƒè€å¸«",
      "descriptions": "ä¸Šèª²ç©æ‰‹æ©Ÿ"
    }
  ]
}
```

---

### 2. ç²å–å–®å€‹ç´€å¾‹è¨˜éŒ„
- **è·¯å¾‘**: `GET /api/disciplinary/:id`
- **æè¿°**: æ ¹æ“š ID ç²å–ç´€å¾‹è¨˜éŒ„è©³æƒ…
- **æ¬Šé™**: DRO è§’è‰²
- **URL åƒæ•¸**: `id` - ç´€å¾‹è¨˜éŒ„ ID
- **æˆåŠŸéŸ¿æ‡‰** (200):
```json
{
  "success": true,
  "data": {
    "id": 1,
    "student_id": 1,
    "date": "2023-10-15",
    "staff_id": 1,
    "descriptions": "ä¸Šèª²ç©æ‰‹æ©Ÿ"
  }
}
```

---

### 3. æ·»åŠ ç´€å¾‹è¨˜éŒ„
- **è·¯å¾‘**: `POST /api/disciplinary/AddDisciplinary`
- **æè¿°**: ç‚ºå­¸ç”Ÿæ·»åŠ æ–°çš„ç´€å¾‹è¨˜éŒ„
- **æ¬Šé™**: DRO è§’è‰²
- **è«‹æ±‚é«”**:
```json
{
  "student_id": 1,
  "date": "2023-10-15",
  "staff_id": 1,
  "descriptions": "ä¸Šèª²ç©æ‰‹æ©Ÿ"
}
```
- **æˆåŠŸéŸ¿æ‡‰** (200):
```json
{
  "success": true,
  "data": { "id": 1 }
}
```

---

### 4. ç·¨è¼¯ç´€å¾‹è¨˜éŒ„
- **è·¯å¾‘**: `POST /api/disciplinary/EditDisciplinary`
- **æè¿°**: æ›´æ–°å·²æœ‰çš„ç´€å¾‹è¨˜éŒ„
- **æ¬Šé™**: DRO è§’è‰²
- **è«‹æ±‚é«”**:
```json
{
  "id": 1,
  "student_id": 1,
  "date": "2023-10-15",
  "staff_id": 1,
  "descriptions": "ä¸Šèª²ä½¿ç”¨æ‰‹æ©Ÿï¼Œå·²è­¦å‘Š"
}
```
- **æˆåŠŸéŸ¿æ‡‰** (200):
```json
{
  "success": true,
  "message": "ç´€å¾‹è¨˜éŒ„æ›´æ–°æˆåŠŸ"
}
```

---

### 5. åˆªé™¤ç´€å¾‹è¨˜éŒ„
- **è·¯å¾‘**: `DELETE /api/disciplinary/DeleteDisciplinary/:id`
- **æè¿°**: åˆªé™¤æŒ‡å®šçš„ç´€å¾‹è¨˜éŒ„
- **æ¬Šé™**: DRO è§’è‰²
- **URL åƒæ•¸**: `id` - ç´€å¾‹è¨˜éŒ„ ID
- **æˆåŠŸéŸ¿æ‡‰** (200):
```json
{
  "success": true,
  "message": "ç´€å¾‹è¨˜éŒ„åˆªé™¤æˆåŠŸ"
}
```

---

## ğŸ‘¨â€ğŸ’¼ å“¡å·¥ç®¡ç† `/api/staffs`

### 1. ç²å–æ‰€æœ‰å“¡å·¥
- **è·¯å¾‘**: `GET /api/staffs`
- **æè¿°**: ç²å–æ‰€æœ‰å“¡å·¥åˆ—è¡¨
- **æ¬Šé™**: ç„¡
- **æˆåŠŸéŸ¿æ‡‰** (200):
```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "last_name": "é»ƒ",
      "first_name": "è€å¸«",
      "gender": "ç”·",
      "email": "huang@staff.com",
      "phone": "13800138101",
      "department": "æ•¸å­¸ç³»",
      "role": "è®²å¸«"
    }
  ]
}
```

---

### 2. ç²å–å–®å€‹å“¡å·¥
- **è·¯å¾‘**: `GET /api/staffs/:id`
- **æè¿°**: æ ¹æ“š ID ç²å–å“¡å·¥è©³ç´°ä¿¡æ¯
- **æ¬Šé™**: ç„¡
- **URL åƒæ•¸**: `id` - å“¡å·¥ ID
- **æˆåŠŸéŸ¿æ‡‰** (200):
```json
{
  "success": true,
  "data": {
    "id": 1,
    "last_name": "é»ƒ",
    "first_name": "è€å¸«",
    "gender": "ç”·",
    "identification_number": "110101198001011111",
    "address": "åŒ—äº¬å¸‚æ•™å·¥æ¨“A101",
    "email": "huang@staff.com",
    "phone": "13800138101",
    "department": "æ•¸å­¸ç³»",
    "role": "è®²å¸«"
  }
}
```

---

### 3. æ·»åŠ å“¡å·¥
- **è·¯å¾‘**: `POST /api/staffs`
- **æè¿°**: æ·»åŠ æ–°å“¡å·¥åˆ°ç³»çµ±
- **æ¬Šé™**: ç„¡
- **è«‹æ±‚é«”**:
```json
{
  "password": "staff01!",
  "last_name": "é»ƒ",
  "first_name": "è€å¸«",
  "gender": "ç”·",
  "identification_number": "110101198001011111",
  "address": "åŒ—äº¬å¸‚æ•™å·¥æ¨“A101",
  "email": "huang@staff.com",
  "phone": "13800138101",
  "department": "æ•¸å­¸ç³»",
  "role": "è®²å¸«"
}
```
- **æˆåŠŸéŸ¿æ‡‰** (200):
```json
{
  "success": true,
  "data": { "id": 1 }
}
```

---

### 4. ç·¨è¼¯å“¡å·¥ä¿¡æ¯
- **è·¯å¾‘**: `PUT /api/staffs/:id`
- **æè¿°**: æ›´æ–°å“¡å·¥ä¿¡æ¯
- **æ¬Šé™**: ç„¡
- **URL åƒæ•¸**: `id` - å“¡å·¥ ID
- **è«‹æ±‚é«”**: èˆ‡æ·»åŠ å“¡å·¥ç›¸åŒï¼Œä½†æ‰€æœ‰å­—æ®µå¯é¸
- **æˆåŠŸéŸ¿æ‡‰** (200):
```json
{
  "success": true,
  "message": "å“¡å·¥è³‡æ–™æ›´æ–°æˆåŠŸ"
}
```

---

### 5. åˆªé™¤å“¡å·¥
- **è·¯å¾‘**: `DELETE /api/staffs/:id`
- **æè¿°**: åˆªé™¤æŒ‡å®šå“¡å·¥
- **æ¬Šé™**: ç„¡
- **URL åƒæ•¸**: `id` - å“¡å·¥ ID
- **æˆåŠŸéŸ¿æ‡‰** (200):
```json
{
  "success": true,
  "message": "å“¡å·¥åˆªé™¤æˆåŠŸ"
}
```

---

## ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ å®¶é•·ç®¡ç† `/api/guardians`

### 1. ç²å–æ‰€æœ‰å®¶é•·
- **è·¯å¾‘**: `GET /api/guardians`
- **æè¿°**: ç²å–æ‰€æœ‰å®¶é•·åˆ—è¡¨
- **æ¬Šé™**: ç„¡
- **æˆåŠŸéŸ¿æ‡‰** (200):
```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "last_name": "æ",
      "first_name": "å‰",
      "email": "liwei@guardian.com",
      "phone": "13800138001"
    }
  ]
}
```

---

### 2. ç²å–å–®å€‹å®¶é•·
- **è·¯å¾‘**: `GET /api/guardians/:id`
- **æè¿°**: æ ¹æ“š ID ç²å–å®¶é•·è©³ç´°ä¿¡æ¯
- **æ¬Šé™**: ç„¡
- **URL åƒæ•¸**: `id` - å®¶é•· ID

---

### 3. æ·»åŠ å®¶é•·
- **è·¯å¾‘**: `POST /api/guardians`
- **æè¿°**: æ·»åŠ æ–°å®¶é•·åˆ°ç³»çµ±
- **æ¬Šé™**: ç„¡
- **è«‹æ±‚é«”**:
```json
{
  "password": "gPass1!",
  "last_name": "æ",
  "first_name": "å‰",
  "email": "liwei@guardian.com",
  "phone": "13800138001"
}
```

---

### 4. ç·¨è¼¯å®¶é•·ä¿¡æ¯
- **è·¯å¾‘**: `PUT /api/guardians/:id`
- **æè¿°**: æ›´æ–°å®¶é•·ä¿¡æ¯
- **æ¬Šé™**: ç„¡
- **URL åƒæ•¸**: `id` - å®¶é•· ID

---

### 5. åˆªé™¤å®¶é•·
- **è·¯å¾‘**: `DELETE /api/guardians/:id`
- **æè¿°**: åˆªé™¤æŒ‡å®šå®¶é•·
- **æ¬Šé™**: ç„¡
- **URL åƒæ•¸**: `id` - å®¶é•· ID

---

## ğŸ“š èª²ç¨‹ç®¡ç† `/api/courses`

### 1. ç²å–æ‰€æœ‰èª²ç¨‹
- **è·¯å¾‘**: `GET /api/courses`
- **æè¿°**: ç²å–æ‰€æœ‰èª²ç¨‹åˆ—è¡¨
- **æ¬Šé™**: ç„¡
- **æˆåŠŸéŸ¿æ‡‰** (200):
```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "course_name": "é«˜ç­‰æ•¸å­¸"
    }
  ]
}
```

---

### 2. ç²å–å–®å€‹èª²ç¨‹
- **è·¯å¾‘**: `GET /api/courses/:id`
- **æè¿°**: æ ¹æ“š ID ç²å–èª²ç¨‹è©³æƒ…
- **æ¬Šé™**: ç„¡
- **URL åƒæ•¸**: `id` - èª²ç¨‹ ID

---

### 3. æ·»åŠ èª²ç¨‹
- **è·¯å¾‘**: `POST /api/courses`
- **æè¿°**: æ·»åŠ æ–°èª²ç¨‹
- **æ¬Šé™**: ç„¡
- **è«‹æ±‚é«”**:
```json
{
  "course_name": "é«˜ç­‰æ•¸å­¸"
}
```

---

### 4. ç·¨è¼¯èª²ç¨‹
- **è·¯å¾‘**: `PUT /api/courses/:id`
- **æè¿°**: æ›´æ–°èª²ç¨‹ä¿¡æ¯
- **æ¬Šé™**: ç„¡
- **URL åƒæ•¸**: `id` - èª²ç¨‹ ID

---

### 5. åˆªé™¤èª²ç¨‹
- **è·¯å¾‘**: `DELETE /api/courses/:id`
- **æè¿°**: åˆªé™¤æŒ‡å®šèª²ç¨‹
- **æ¬Šé™**: ç„¡
- **URL åƒæ•¸**: `id` - èª²ç¨‹ ID

---

## ğŸ”’ æ¬Šé™èªªæ˜

### ç”¨æˆ¶é¡å‹
1. **Master (è¶…ç´šç®¡ç†å“¡)**: ä½¿ç”¨ Master Key ç™»å…¥ï¼Œç¹éæ‰€æœ‰æ¬Šé™æª¢æŸ¥
2. **Staff (å“¡å·¥)**: ä½¿ç”¨éƒµç®±ç™»å…¥ï¼Œæ ¹æ“š role æœ‰ä¸åŒæ¬Šé™
3. **Student (å­¸ç”Ÿ)**: ä½¿ç”¨éƒµç®±ç™»å…¥ï¼Œåªèƒ½è¨ªå•è‡ªå·±çš„æ•¸æ“š

### å“¡å·¥è§’è‰²
- **ARO (Academic Records Officer)**: æˆç¸¾è¨˜éŒ„ç®¡ç†å“¡ï¼Œå¯ç®¡ç†æ‰€æœ‰æˆç¸¾
- **DRO (Disciplinary Records Officer)**: ç´€å¾‹è¨˜éŒ„ç®¡ç†å“¡ï¼Œå¯ç®¡ç†æ‰€æœ‰ç´€å¾‹è¨˜éŒ„
- **å…¶ä»–è§’è‰²**: æ™®é€šå“¡å·¥æ¬Šé™

### èªè­‰æ–¹å¼
æ‰€æœ‰éœ€è¦èªè­‰çš„æ¥å£é€šé **Signed Cookie** é©—è­‰ï¼š
- `userId`: ç”¨æˆ¶ IDï¼ˆç°½åï¼‰
- `userType`: ç”¨æˆ¶é¡å‹ï¼ˆç°½åï¼‰

---

## ğŸ“ éŒ¯èª¤éŸ¿æ‡‰

æ‰€æœ‰æ¥å£çš„éŒ¯èª¤éŸ¿æ‡‰æ ¼å¼çµ±ä¸€ï¼š

```json
{
  "success": false,
  "message": "éŒ¯èª¤æè¿°"
}
```

### å¸¸è¦‹éŒ¯èª¤ç‹€æ…‹ç¢¼
- `400`: è«‹æ±‚åƒæ•¸éŒ¯èª¤
- `401`: æœªç™»å…¥æˆ–èªè­‰å¤±æ•—
- `403`: æ²’æœ‰æ¬Šé™è¨ªå•
- `404`: è³‡æºä¸å­˜åœ¨
- `500`: æœå‹™å™¨å…§éƒ¨éŒ¯èª¤

---

## ğŸ” æ•¸æ“šåŠ å¯†

ç³»çµ±ä½¿ç”¨ **MySQL AES_ENCRYPT/AES_DECRYPT** åŠ å¯†ä»¥ä¸‹æ•æ„Ÿæ•¸æ“šï¼š
- å¯†ç¢¼ (password)
- éƒµç®± (email)
- é›»è©± (phone)
- èº«ä»½è­‰è™Ÿ (identification_number)
- åœ°å€ (address)
- æˆç¸¾ (grade)
- è©•èª (comments)
- ç´€å¾‹æè¿° (descriptions)

æ‰€æœ‰åŠ å¯†ä½¿ç”¨çµ±ä¸€çš„ `AES_KEY` é…ç½®ã€‚

---

## ğŸ§ª æ¸¬è©¦

é‹è¡Œå®Œæ•´æ¸¬è©¦ï¼š
```bash
yarn test
```

æ¸¬è©¦åŒ…æ‹¬ï¼š
- âœ… Master Key ç™»å…¥
- âœ… å“¡å·¥ç™»å…¥
- âœ… å­¸ç”Ÿç™»å…¥
- âœ… æ¬Šé™æª¢æŸ¥
- âœ… ARO/DRO è§’è‰²æ¸¬è©¦
- âœ… CRUD æ“ä½œæ¸¬è©¦

---

## ğŸ“Œ æ³¨æ„äº‹é …

1. **ç”Ÿç”¢ç’°å¢ƒé…ç½®**:
   - ä¿®æ”¹ `MASTER_KEY`
   - ä¿®æ”¹ `AES_KEY`
   - ä¿®æ”¹ `COOKIE_SECRET`
   - å•Ÿç”¨ HTTPS (`secure: true`)

2. **Cookie å®‰å…¨**:
   - ä½¿ç”¨ `httpOnly` é˜²æ­¢ XSS
   - ä½¿ç”¨ `signed` é˜²æ­¢ç¯¡æ”¹
   - ä½¿ç”¨ `sameSite: 'strict'` é˜²æ­¢ CSRF

3. **å¯†ç¢¼ç­–ç•¥**:
   - å»ºè­°å¯†ç¢¼é•·åº¦ â‰¥ 8
   - åŒ…å«å­—æ¯ã€æ•¸å­—ã€ç‰¹æ®Šå­—ç¬¦
